# This test file contains fake mission data to exercise all options within the
# CFConfig class.
#
# There is a fairly extensive collection of overrides, to ensure only those
# attributes with the correct combination of mission and short name are
# retrieved. CF_Supplements uses the same functions as CF_Overrides, so that
# section of the dummy configuration is more minimal.
Identification: var_subsetter_config
Version: 12

# A list of hdf subdataset paths that provide the shortname value of the
# collection for the data file being processed.  Processed in this order to
# find a shortname value for the current file.
Collection_ShortName_Path:
  - '/HDF5_GLOBAL/short_name'
  - '/NC_GLOBAL/short_name'
  - '/Metadata/DatasetIdentification/shortName'
  - '/METADATA/DatasetIdentification/shortName'
  - '/Metadata/SeriesIdentification/shortName'
  - '/METADATA/SeriesIdentification/shortName'
  - '/id'

# A set of mission tagged shortname patterns defines a mission name for
# matching shortname values.
Mission:
  'FAKE\d{2}': 'FakeSat'
  'ATL03': 'ICESat2'

# If CF_Overrides and CF_Supplements are not enough VarInfo class will assume
# certain variables are science variables. This setting provides variable path
# patterns that should be excluded from consideration as a science variable
Excluded_Science_Variables:
  - Applicability:
      Mission: 'FakeSat'
    Variable_Pattern:
      - '/exclude_one/.*'
      - '/exclude_two/.*'
      - '/exclude_three/.*'

# VarInfo will calculate a set of required fields (variables, subdatasets)
# for a given science variable. This setting imposes additional contents
# for the required fileds list.
Required_Fields:
  # TODO: Replace with ancillary_variable references.
  - Applicability:
      Mission: 'FakeSat'
    Variable_Pattern:
      - '/required_group/.*'

# Temporal subsetting typically encounters time tags in data files as
# e.g., delta_time, where the time value is relative to a "start-time"
# for the collection of datafiles, referred to as the time Epoch.
ProductEpochs:
  - Applicability:
      Mission: FakeSat
    Epoch: '2005-01-01T00:00:00.000000'

# The CF_References data can provide examples of adding Grid_Mapping
# attributes to science variables, as necessary for grid processing.  The
# following are variable data (subdataset, attributes only data) containing
# CF compliant grid mapping data. These can both fill in where no such
# grid_mapping variables exist, and potentially override any existing
# grid_mapping data, if imposed corrections are necessary.
Grid_Mapping_Data:
  - Grid_Mapping_Dataset_Name: 'EASE2_Global'
    grid_mapping_name: 'lambert_cylindrical_equal_area'
    standard_parallel: 30.0
    longitude_of_central_meridian: 0.0
    false_easting: 0.0
    false_northing: 0.0
  - Grid_Mapping_Dataset_Name: 'EASE2_Polar'
    grid_mapping_name: 'lambert_azimuthal_equal_area'
    longitude_of_projection_origin: 0.0
    latitude_of_projection_origin: 90.0
    false_easting: 0.0
    false_northing: 0.0

# For cases where CF references do not exist, or are invalid 
# These variables have no dimension references in the HDF5 file contents
CF_Overrides:
  - Applicability:
      Mission: 'FakeSat'
      ShortNamePath: 'FAKE99'
    Attributes:
      - Name: 'collection_override'
        Value: 'collection value'
    Applicability_Group:
      - Applicability:
          Variable_Pattern: '/group/.*'
        Attributes:
          - Name: 'group_override'
            Value: 'group value'
      - Applicability:
          ShortNamePath: 'FAKE99'
          Variable_Pattern: '/group/variable'
        Attributes:
          - Name: 'variable_override'
            Value: 'variable value'
      - Applicability:
          Variable_Pattern: '/coordinates_group/.*'
        Attributes:
          - Name: 'coordinates'
            Value: 'lat, lon'
    Global_Attributes:
      - Name: 'global_override'
        Value: 'GLOBAL'
  - Applicability:
      Mission: 'FakeSat'
      ShortNamePath: 'FAKE98'
    Applicability_Group:
      - Applicability:
          Variable_Pattern: '/group2/.*'
        Attributes:
          - Name: 'other_collection'
            Value: 'canopy_height'
  - Applicability:
      Mission: 'FakeSat2'
      ShortNamePath: 'FAKE99'
    Applicability_Group:
      - Applicability:
          Variable_Pattern: '/group3/.*'
        Attributes:
          - Name: 'other_mission'
            Value: 'sea_surface_temperature'

# For extending CF references. This allows for CF references to persist, while
# supplemental information is provided. In particular, e.g. for subsetting
# support, non-CF attributes can be provided.
CF_Supplements:
  - Applicability:
      Mission: 'FakeSat'
      ShortNamePath: 'FAKE99'
    Attributes:
      - Name: 'collection_supplement'
        Value: 'FAKE99 supplement'
    Applicability_Group:
      - Applicability:
          Variable_Pattern: '/group4/.*'
        Attributes:
          - Name: 'group_supplement'
            Value: 'FAKE99 group4'
    Global_Attributes:
      - Name: 'fakesat_global_supplement'
        Value: 'fakesat value'
